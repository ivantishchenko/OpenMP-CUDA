0
- Nice performance
- You are currently updating the global maximum once for each window height. You could do it only once per thread by moving the updating to the parallel section containing the for loop. Remember that

#pragma omp parallel for
    for(...) {
    }

is shorthand for

#pragma omp parallel
{
#pragma omp for
    for(...) {
    }
}
